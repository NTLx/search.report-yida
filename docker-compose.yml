services:
  report-yida:
    # 使用预构建的Docker镜像
    image: registry.cn-shanghai.aliyuncs.com/dev_env_tools/search.report-yida
    # build: .
    # 可选：使用本地构建替代预构建镜像
    # 如果需要本地构建，请取消上面的build注释并注释掉image
    ports:
      - "8080:8080"
    environment:
      # 环境变量配置，可通过环境变量覆盖或在.env文件中配置
      - USERID=${USERID}
      - CLIENT_ID=${CLIENT_ID}
      - CLIENT_SECRET=${CLIENT_SECRET}
      - APP_TYPE=${APP_TYPE}
      - SYSTEM_TOKEN=${SYSTEM_TOKEN}
      - FORM_UUID=${FORM_UUID}
      - TIMEOUT=${TIMEOUT:-86400000}
      - NAME_FIELD_ID=${NAME_FIELD_ID}
      - PHONE_FIELD_ID=${PHONE_FIELD_ID}
      - ATTACHMENT_FIELD_ID=${ATTACHMENT_FIELD_ID}
      - NODE_ENV=${NODE_ENV:-production}
      - PORT=${PORT:-8080}
    # volumes:
      # 可选：挂载配置文件
      # - ./env:/app/.env
      # - ./config:/app/config
      # 注意：挂载配置是可选的，默认使用镜像内的配置
    logging:
      options:
        max-size: "1m"